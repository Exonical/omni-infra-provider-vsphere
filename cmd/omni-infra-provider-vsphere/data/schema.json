{
  "type": "object",
  "properties": {
    "cpus": {
      "title": "Cpus",
      "type": "integer",
      "minimum": 1,
      "description": "Number of virtual CPUs"
    },
    "memory_mb": {
      "title": "Memory Mb",
      "type": "integer",
      "minimum": 1024,
      "description": "Memory size in MiB"
    },
    "disk_gib": {
      "title": "Disk Gib",
      "type": "integer",
      "minimum": 5,
      "description": "Primary disk size in GiB"
    },
    "datacenter": {
      "title": "Datacenter",
      "type": "string",
      "description": "vSphere Datacenter name or path"
    },
    "cluster": {
      "title": "Cluster",
      "type": "string",
      "description": "vSphere Cluster name or path"
    },
    "datastore": {
      "title": "Datastore",
      "type": "string",
      "description": "vSphere Datastore name or path"
    },
    "template": {
      "title": "Template",
      "type": "string",
      "description": "Path to the VM template to clone from"
    },
    "content_library": {
      "title": "Content Library",
      "type": "string",
      "description": "vSphere Content Library name (optional, use instead of template)"
    },
    "content_library_item": {
      "title": "Content Library Item",
      "type": "string",
      "description": "Content Library item/template to clone from (required if content_library is specified)"
    },
    "port_group": {
      "title": "Port Group",
      "type": "string",
      "description": "Network port group to attach the NIC to"
    },
    "secure_boot": {
      "title": "Secure Boot",
      "type": "boolean",
      "default": false,
      "description": "Enable EFI Secure Boot (requires EFI firmware)"
    }
  },
  "required": [
    "cpus",
    "memory_mb",
    "disk_gib",
    "datacenter",
    "cluster",
    "datastore",
    "port_group"
  ],
  "oneOf": [
    {
      "required": ["template"]
    },
    {
      "required": ["content_library", "content_library_item"]
    }
  ]
}